<c:FragmentDefinition
	xmlns="sap.m"
	xmlns:c="sap.ui.core"
  xmlns:l="sap.ui.layout"
>
  <Panel id="pnlListQuoteDocumenti" class="onlyTopPadding" visible="{StepScenario>/wizard1Step2}">
		<headerToolbar>
      <OverflowToolbar>
        <Title text="{i18n>listDocumentiCosto}" />
      </OverflowToolbar>
    </headerToolbar>
    <content>
      <l:Grid defaultSpan="XL12 L12 M12 S12" class="bgWhite" >
        <Table  
          id="tblQuoteDocumenti"
          mode="MultiSelect"
          items="{path: 'QuoteDocumenti>/'}"
          selectionChange="onSelectedItem"
        >
        <columns>
          <Column minScreenWidth="Desktop" demandPopin="true" >
            <header><Text text="{i18n>labelAnnoRegDocumento}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true">
            <header><Text text="{i18n>labelAbbrNRegDocumento}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true">
            <header><Text text="{i18n>labelTipoDocumento}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true">
            <header><Text text="{i18n>labelDataDocBeneficiario}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true">
            <header><Text text="{i18n>labelDenomBeneficiario}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true" visible="{= ${Soa>/Lifnr} ? true : false}">
            <header><Text text="{i18n>labelImpLiquidato}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true" visible="{= ${Soa>/Lifnr} ? true : false}">
            <header><Text text="{i18n>labelImpOrdinato}" /></header>
          </Column>

          <Column minScreenWidth="Desktop" demandPopin="true" visible="{= ${Soa>/Lifnr} ? false : true}">
            <header><Text text="{i18n>labelImpLiqNonOrdinata}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true" visible="{= ${Soa>/Lifnr} ? false : true}">
            <header><Text text="{i18n>labelResiduoVersabile}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true" visible="{= ${Soa>/Lifnr} ? false : true}">
            <header><Text text="{i18n>labelResiduoEsigibile}" /></header>
          </Column>

          <Column minScreenWidth="Desktop" demandPopin="true">
            <header><Text text="{i18n>labelImpDaOrdinare}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true">
            <header><Text text="{i18n>labelProspetto}" /></header>
          </Column>
          <Column minScreenWidth="Desktop" demandPopin="true">
            <header><Text text="{i18n>labelRigaProspetto}" /></header>
          </Column>
        </columns>
        <items>
        <ColumnListItem vAlign="Middle">
          <cells>
            <ObjectIdentifier text="{QuoteDocumenti>AnnoRegDocumento}"/>
            <ObjectIdentifier text="{QuoteDocumenti>NumRegDoc}"/>
            <Text text="{QuoteDocumenti>TipoDoc}"/>				
            <Text text="{
                    path: 'QuoteDocumenti>DataDocBen',
                    type: 'sap.ui.model.type.Date',
                    formatOptions: {
                      pattern: 'dd.MM.yyyy'
                    }
                  }"/>
            <Text text="{QuoteDocumenti>DenBen}"/>
            <Text text="{
                    path: 'QuoteDocumenti>ImpLiq',
                    formatter:'.formatter.convertFormattedNumber'
            }" />
            <Text text="{
                    path: 'QuoteDocumenti>ImpOrd',
                    formatter:'.formatter.convertFormattedNumber'
            }" />
            
            <Text text="{
                    path: 'QuoteDocumenti>ImpLiq',
                    formatter:'.formatter.convertFormattedNumber'
            }" />
            <Text text="{
                    path: 'QuoteDocumenti>Zresvers',
                    formatter:'.formatter.convertFormattedNumber'
            }" />
            <Text text="{
                    path: 'QuoteDocumenti>Zresesig',
                    formatter:'.formatter.convertFormattedNumber'
            }" />

            <Input
              id="iptImpDaOrd"
              change="onImpDaOrdinareChange"
              type="Number"
              value="{
                      path: 'QuoteDocumenti>ImpDaOrd'
              }"
              />    
            <Text text="{QuoteDocumenti>NProspLiquidazione}"/> 
            <Text text="{QuoteDocumenti>RigaProsp}"/> 
          </cells>
        </ColumnListItem>
        </items>  
        </Table>
        <Panel id="pnlCalculatorList" visible="false" backgroundDesign="Transparent">
          <l:Grid defaultSpan="XL12 L12 M12 S12" class="bgWhite calculator" >
            <Text text="{i18n>labelCalculator}">
              <layoutData ><l:GridData span="XL2 L3 M4 S12" indent="XL8 L5" /></layoutData>
            </Text>
            <Input 
              value="{
                      path: 'Soa>/Zimptot',
                      formatter:'.formatter.convertFormattedNumber'
                    }"
              editable="false"
            >
              <layoutData><l:GridData span="XL1 L2 M4 S12" /></layoutData>
            </Input>
            <Button 
              id="btnCalculate"
              text="{i18n>btnCalculate}" 
              icon="sap-icon://simulate" 
              width="100%" 
              press="onCalcute"
            > 
              <layoutData><l:GridData span="XL1 L2 M4 S12" /></layoutData>
          </Button>
        </l:Grid>
        </Panel>
        <Panel id="pnlPaginator" visible="false" backgroundDesign="Transparent">
          <c:Fragment fragmentName="rgssoa.view.fragment.soa.Paginator" type="XML" />
          <layoutData>
            <l:GridData span="XL6 L6 M6 S12" indent="XL3 L3 M3" />
          </layoutData>
        </Panel>
      </l:Grid>
    </content>
	</Panel>
</c:FragmentDefinition>